---
title: "YES Data Dictionaries"
author: "Mallory Dobias"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output:
  html_document:
    toc: yes
    toc_depth: 5
    toc_float:
      collapsed: no
      smooth_scroll: no
  pdf_document:
    toc: yes
    toc_depth: '5'
  word_document:
    toc: yes
    toc_depth: '5'
geometry: margin=0.50in
---

```{r setup, include=FALSE}

## Setting up R

knitr::opts_chunk$set(echo = TRUE)

```

```{r packages, include=FALSE}

## Loading packages

if(!require(here)){install.packages('here')}
library(here)

if(!require(dplyr)){install.packages('dplyr')}
library(dplyr)

if(!require(stringr)){install.packages('stringr')}
library(stringr)

if(!require(tidyr)){install.packages('tidyr')}
library(tidyr)

if(!require(readr)){install.packages('readr')}
library(readr)

if(!require(tidyverse)){install.packages('tidyverse')}
library(tidyverse)

if(!require(rmarkdown)){install.packages('rmarkdown')}
library(rmarkdown)

if(!require(datadictionary)){install.packages('datadictionary')}
library(datadictionary)

```

```{r reading in data, include=FALSE}

## Reading in cleaned survey data

library(here) # places working directory at root of project folder

data <- readRDS(here("data", "clean", "yes_data_d09_english_clean.Rds")) # directing to data from project folder root

```

# Data Dictionary

```{r creating data frame for dictionary, include=FALSE}

## Dropping qualtrics timing variables to make data dictionary more manageable

data_for_dictionary <- data %>%
  select(-contains("_tim_") & -contains("page_submit"))

```

```{r creating var labels for dictionary, warning=FALSE}

# var_labels <- tibble(item = colnames(data_for_dictionary))

# Create labels as a named vector. 
var_labels <- c(response_id = "id generated by qualtrics",
                language = "response language",
                data_id = "id for the dataset associated with each response (d01-d16)",
                start_date = "date survey was started",
                end_date = "date survey was ended",
                ip_address = 
                
                 
                )

```

```{r creating data dictionary, warning=FALSE}

## Creating data dictionary

data_dictionary <- datadictionary::create_dictionary(data_for_dictionary)

## Defining the folder and file path

folder_path <- here("data", "clean")  # Path to my desired folder
file_name <- "yes_d09_data_dictionary.csv"
full_path <- file.path(folder_path, file_name)

write.csv(data_dictionary, full_path)

```